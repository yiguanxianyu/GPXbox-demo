(function(){"use strict";var e={5452:function(e,t,n){var r=n(9242),o=n(3396),a=n(4870),i=n(3153),l=n.n(i);n(2640),n(9500);const u={id:"map"};var s={setup(e){let t=null,n=null;const r=()=>{t=l().map("map",{center:[39.99,116.303],layers:[],zoom:15})},a=e=>{let t=l().control.scale({maxWidth:100,metric:!0,imperial:!1});t.addTo(e)},i=e=>{let t="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";const n=l().tileLayer(t,{minZoom:7,maxZoom:19});n.addTo(e)},s=e=>{console.log(e);let r=l().circle([39.985699,116.303039],{color:"red",fillColor:"#f03",fillOpacity:.5,radius:50});r.addTo(n);let o=window.URL.createObjectURL(e);new(l().GPX)(o,{async:!0}).on("loaded",(function(e){t.fitBounds(e.target.getBounds())})).addTo(t)},c=(0,o.FN)().appContext.config.globalProperties;return c.$bus.$on("fileRead",s),(0,o.bv)((()=>{r(),a(t),i(t),n=l().layerGroup(),n.addTo(t)})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",u))}};const c=s;var f=c,p=n(6462),d=n(235);const g=(0,o.Uk)("上传文件");var m={setup(e){let t=(0,a.iH)(null),n=1;const r=(0,o.FN)().appContext.config.globalProperties,i=({file:e})=>(r.$bus.$emit("fileRead",e.file),!1);return(e,r)=>((0,o.wg)(),(0,o.j4)((0,a.SU)(p.Z),{ref_key:"uploader",ref:t,accept:".gpx",max:(0,a.SU)(n),onBeforeUpload:i},{default:(0,o.w5)((()=>[(0,o.Wm)((0,a.SU)(d.Z),{type:"primary",size:"large"},{default:(0,o.w5)((()=>[g])),_:1})])),_:1},8,["max"]))}};const v=m;var h=v,y=n(1260),b=n(9468),w=n(3667),x=n(2568);const S=(0,o.Uk)("其他功能"),U=(0,o._)("span",null," 别看了，还没做呢 ",-1),A=(0,o._)("div",{id:"gd"},null,-1);var O={setup(e){const t=(0,y.U)(),n=(0,o.FN)().appContext.config.globalProperties,r=()=>{t.success("别点了，真的还没做呢"),n.$bus.$emit("titleRead",{title:{text:"Success",left:"center"}})};return(0,o.bv)((()=>{})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)((0,a.SU)(b.Z),{vertical:""},{default:(0,o.w5)((()=>[(0,o.Wm)((0,a.SU)(w.ZP),{id:"title",bordered:!1,title:"GPXbox","header-style":"font-size:2.5em"}),(0,o.Wm)((0,a.SU)(b.Z),{justify:"space-around"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,a.SU)(h)),(0,o.Wm)((0,a.SU)(x.Z),{trigger:"hover"},{trigger:(0,o.w5)((()=>[(0,o.Wm)((0,a.SU)(d.Z),{type:"primary",onClick:r,size:"large"},{default:(0,o.w5)((()=>[S])),_:1})])),default:(0,o.w5)((()=>[U])),_:1})])),_:1}),A])),_:1})]))}};const P=O;var _=P,j=n(3215),D=n(8720),$=n(7245),k=n(5330),Z=n(542),N=n(2015),W=n(5977),T=n(2264),C=n(5381),M=n(7049),R=n(1068),z=n.n(R);function F(e){let t=new(z());t.parse(e);let n=t.tracks[0],r=n.distance.cumul,o=n.points,a=r.length,i=o.map((e=>e.time)),l=new Array(a);for(let s=0;s<a-2;s++){let e=r[s+2]-r[s],t=i[s+2]-i[s];l[s+1]=1e3*e/t}l[0]=1e3*r[0]/(o[1].time-o[0].time),l[a-1]=1e3*(r[a-1]-r[a-2])/(o[a-1].time-o[a-2].time);let u=new Array(a);for(let s=0;s<a;s++)u[s]={value:[+i[s],l[s]]};console.log("test",i.length===i.length),this.speedArr=l,this.chartData=u,this.gpx=t}F.prototype.getChartData=function(){return this.chartData},F.prototype.getSpeedDataAsKmPreHour=function(){let e=this.speedArr,t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=3.6*e[r];return n},F.prototype.getSpeedDataAsMinutePerKm=function(){let e=this.speedArr,t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=1e3/e[r];return n};var L=F,G={setup(e){function t(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(0,o.JJ)(j.bw,"light"),D.D([$.N,k.N,Z.N,N.N,W.N,T.N,M.N,C.z]);let n=105,r=Array(n),i=new Date(2022,5,16,5,30,30);for(let o=0;o<n;o++)i=new Date(i.valueOf()+1e3),r[o]={value:[+i,t(20*Math.random()+100,2)]};let l,u={title:{text:"title",left:"middle"},tooltip:{trigger:"axis",formatter:e=>{e=e[0].data;const t=new Date(e.value[0]);let n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),a=t.getHours(),i=t.getMinutes(),l=t.getSeconds();return r=r>10?r:"0"+r,o=o>10?o:"0"+o,a=a>10?a:"0"+a,i=i>10?i:"0"+i,[n,r,o].join("-")+" "+[a,i,l].join(":")},axisPointer:{type:"cross",animation:!0}},xAxis:{type:"time",splitLine:{show:!1},boundaryGap:!1},yAxis:{type:"value",scale:!0,boundaryGap:[0,"100%"],splitLine:{show:!1}},toolbox:{show:!0,feature:{saveAsImage:{}}},dataZoom:[{type:"slider"}],series:[{type:"line",smooth:!0,showSymbol:!1,data:r,markLine:{data:[{name:"Y 轴值为 100 的水平线",xAxis:r[50].value[0]}]}}]},s=(0,a.iH)(u);const c=(0,o.FN)().appContext.config.globalProperties;return c.$bus.$on("fileRead",(e=>{const t=new FileReader;t.readAsText(e,"utf-8"),t.onload=function(){void 0!==l&&clearInterval(l);let e=new L(t.result),n=s.value.series;n[0].data=e.chartData,s.value.series=n;let r=0,o=e.chartData.length;l=setInterval((()=>{r<o?(s.value.series[0].markLine={text:"look at me now",data:[{xAxis:e.chartData[r].value[0]}]},r+=1):clearInterval(l)}),1e3)}})),c.$bus.$on("titleRead",(e=>{s.value=e})),(0,o.bv)((()=>{})),(e,t)=>((0,o.wg)(),(0,o.j4)((0,a.SU)(j.ZP),{class:"chart",option:(0,a.SU)(s),autoresize:!0},null,8,["option"]))}};const H=G;var I=H,B=n(8283);const J={id:"container-up-down"},K={id:"container-left-right"};var X={setup(e){return(e,t)=>((0,o.wg)(),(0,o.j4)((0,a.SU)(B.Z),null,{default:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o._)("div",K,[(0,o.Wm)((0,a.SU)(f),{id:"map"}),(0,o.Wm)((0,a.SU)(_),{id:"panel",ref:"panel"},null,512)]),(0,o.Wm)((0,a.SU)(I),{id:"map-charts"})])])),_:1}))}};const Y=X;var E=Y,q=n(1373);const Q=(0,q.Z)(),V={};V.$on=Q.on,V.$off=Q.off,V.$emit=Q.emit;var ee=V;const te=(0,r.ri)(E);te.config.globalProperties.$bus=ee,te.mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var l=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],l=r[1],u=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(u)var c=u(n)}for(t&&t(r);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkgpxbox"]=self["webpackChunkgpxbox"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5452)}));r=n.O(r)})();
//# sourceMappingURL=app.3c630bc4.js.map