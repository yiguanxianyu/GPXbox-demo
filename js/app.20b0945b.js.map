{"version":3,"file":"js/app.20b0945b.js","mappings":"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","sources":["webpack://gpxbox/./src/components/Map/mapView.vue","webpack://gpxbox/./src/components/Map/mapView.vue?e159","webpack://gpxbox/./src/components/Control/readGPX.vue","webpack://gpxbox/./src/components/Control/readGPX.vue?c692","webpack://gpxbox/./src/components/Control/controlPanel.vue","webpack://gpxbox/./src/components/Control/controlPanel.vue?7eb6","webpack://gpxbox/./src/components/utils.js","webpack://gpxbox/./src/components/Control/gpxProcess.js","webpack://gpxbox/./src/components/Chart/viewChart.vue","webpack://gpxbox/./src/components/Chart/viewChart.vue?395e","webpack://gpxbox/./src/App.vue","webpack://gpxbox/./src/components/bus.js","webpack://gpxbox/./src/main.js","webpack://gpxbox/webpack/bootstrap","webpack://gpxbox/webpack/runtime/chunk loaded","webpack://gpxbox/webpack/runtime/compat get default export","webpack://gpxbox/webpack/runtime/define property getters","webpack://gpxbox/webpack/runtime/global","webpack://gpxbox/webpack/runtime/hasOwnProperty shorthand","webpack://gpxbox/webpack/runtime/make namespace object","webpack://gpxbox/webpack/runtime/jsonp chunk loading","webpack://gpxbox/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"map\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-polylinedecorator\"\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\n\r\nlet map;\r\nlet gpxPolyline;\r\nlet gpxLineDecorator;\r\nlet speedRatio = 1;\r\nlet index;\r\nlet setTimeoutID = [];\r\nlet animP;\r\nlet dataLength;\r\nlet inputPolyline;\r\n// let inputTimeArr;\r\nlet timeDelta;\r\n\r\nconst addMap = () => {\r\n  map = L.map(\"map\", {\r\n    center: [39.99, 116.303],\r\n    zoom: 15,\r\n    preferCanvas: true\r\n  });\r\n};\r\n\r\nconst addScale = (map) => {\r\n  L.control.scale({\r\n    maxWidth: 100,\r\n    metric: true,\r\n    imperial: false,\r\n  }).addTo(map);\r\n};\r\n\r\nconst addTile = (map) => {\r\n  let tileUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n  L.tileLayer(tileUrl, {minZoom: 7, maxZoom: 19}).addTo(map);\r\n};\r\n\r\nconst addCircle = () => {\r\n  /*L.motion\r\n    .polyline(\r\n      [\r\n        [39.990, 116.3030],\r\n        [39.991, 116.3036],\r\n        [39.993, 116.3039],\r\n        [39.996, 116.3033],\r\n        [39.992, 116.3010],\r\n      ],\r\n      {\r\n        color: \"red\",\r\n      },\r\n      {\r\n        auto: true,\r\n        duration: 5000,\r\n        easing: L.Motion.Ease.easeInOutQuart,\r\n      },\r\n      {\r\n        removeOnEnd: false,\r\n        icon: L.icon({\r\n          iconUrl: \"../assets/logo.png\",\r\n          iconSize: [25.1, 25],\r\n        }),\r\n      }\r\n    )\r\n    .addTo(map);*/\r\n};\r\n\r\nconst ctx = getCurrentInstance().appContext.config.globalProperties;\r\nctx.$bus.$on('fileRead', addCircle);\r\nctx.$bus.$on('speedRatioChanged', (sc) => {\r\n  speedRatio = sc\r\n})\r\n\r\nctx.$bus.$on('sendPolyline', (input) => {\r\n  gpxPolyline.setLatLngs(input.polyline);\r\n  gpxLineDecorator.setPaths(input.polyline);\r\n  map.fitBounds(gpxPolyline.getBounds())\r\n\r\n  // 实时轨迹线\r\n  if (animP === undefined) {\r\n    //第一次读入\r\n    animP = L.polyline([{lat: input.polyline[0][0], lon: input.polyline[0][1]}], {\r\n      weight: 4,\r\n      color: '#11eeb2'\r\n    }).addTo(map);\r\n  } else {\r\n    //重新读入\r\n    animP.setLatLngs([{lat: input.polyline[0][0], lon: input.polyline[0][1]}])\r\n  }\r\n\r\n  index = 0;\r\n  dataLength = input.polyline.length;\r\n  timeDelta = input.timeDelta;\r\n\r\n  let inputPl = new Array(dataLength);\r\n  for (let i = 0; i < dataLength; i++) {\r\n    let point = input.polyline[i];\r\n    inputPl[i] = {lat: point[0], lon: point[1]}\r\n  }\r\n  inputPolyline = inputPl;\r\n  // inputTimeArr = input.timeArr;\r\n});\r\n\r\nctx.$bus.$on('play', () => {\r\n  let set = () => {\r\n    if (index < dataLength - 1) {\r\n      animP.addLatLng(inputPolyline[index]);\r\n      setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n      index++;\r\n    }\r\n  }\r\n  setTimeoutID.push(setTimeout(set, 0));\r\n});\r\n\r\nctx.$bus.$on('pause', () => {\r\n  for (let j = 0, idLength = setTimeoutID.length; j < idLength; j++) {\r\n    clearTimeout(setTimeoutID[j]);\r\n  }\r\n});\r\n\r\nctx.$bus.$on('backToStart', () => {\r\n  index = 0;\r\n  let startPoint = animP.getLatLngs()[0];\r\n  animP.setLatLngs([startPoint]);\r\n})\r\n\r\nonMounted(() => {\r\n  addMap();\r\n  addScale(map);\r\n  addTile(map);\r\n\r\n  gpxPolyline = L.polyline([], {smoothFactor: 0.5, weight: 3}).addTo(map);\r\n  gpxLineDecorator = L.polylineDecorator([], {\r\n    patterns: [{\r\n      repeat: 50,\r\n      symbol: L.Symbol.arrowHead({\r\n        pixelSize: 4,\r\n        headAngle: 75,\r\n        polygon: false,\r\n        pathOptions: {\r\n          stroke: true,\r\n          weight: 1,\r\n          color: '#d20b0b'\r\n        }\r\n      })\r\n    }]\r\n  }).addTo(map);\r\n});\r\n</script>\r\n\r\n<style>\r\n#map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import script from \"./mapView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./mapView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./mapView.vue?vue&type=style&index=0&id=a352d5a0&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <n-upload\r\n      ref=\"uploader\"\r\n      :max=\"1\"\r\n      accept=\".gpx\"\r\n      @before-upload=\"beforeUpload\"\r\n  >\r\n    <n-button size=\"large\" type=\"primary\">打开 GPX 文件</n-button>\r\n  </n-upload>\r\n</template>\r\n\r\n<script setup>\r\nimport {NButton, NUpload} from \"naive-ui\";\r\nimport {getCurrentInstance, ref} from \"vue\";\r\n\r\nlet uploader = ref(null);\r\n\r\nconst ctx = getCurrentInstance().appContext.config.globalProperties;\r\n\r\nconst beforeUpload = ({file}) => {\r\n  ctx.$bus.$emit(\"fileRead\", file.file);\r\n  ctx.$bus.$emit(\"fileTitleRead\", file.file.name);\r\n  return false;\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import script from \"./readGPX.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./readGPX.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <n-space vertical>\r\n    <n-card\r\n        id=\"title\"\r\n        :bordered=\"false\"\r\n        header-style=\"font-size:2.5em\"\r\n        title=\"GPXbox\"\r\n    ></n-card>\r\n    <!--这个是网页的标题-->\r\n\r\n    <GPXreader></GPXreader>\r\n\r\n    <!--      <n-tooltip trigger=\"hover\">-->\r\n    <!--        <template #trigger>-->\r\n    <!--          <n-button size=\"large\" type=\"primary\" @click=\"otherClick\">其他功能</n-button>-->\r\n    <!--        </template>-->\r\n    <!--        别看了，还没做呢-->\r\n    <!--      </n-tooltip>-->\r\n\r\n    <n-space justify=\"space-around\">\r\n      <n-button secondary strong @click=\"clickPlayButton\">\r\n        <n-icon :component=\"Play\"/>\r\n        &nbsp;播放\r\n      </n-button>\r\n\r\n      <n-button secondary strong @click=\"clickPauseButton\">\r\n        <n-icon :component=\"Pause\"/>\r\n        &nbsp;暂停\r\n      </n-button>\r\n\r\n      <n-button secondary strong @click=\"clickBackToStartButton\">\r\n        <n-icon :component=\"ReturnUpBack\"/>\r\n        &nbsp;回到起点\r\n      </n-button>\r\n    </n-space>\r\n\r\n    <n-tooltip trigger=\"hover\">\r\n      <template #trigger>\r\n        <n-input-number id=\"inputNumber\" :default-value=\"1\" :max=\"10\" :min=\"0.1\" :value=\"speedRatio\"\r\n                        @update:value=\"handleSpeedRatioChanged\">\r\n          <template #suffix>\r\n            倍速\r\n          </template>\r\n          <template #prefix>\r\n            <n-icon :component=\"Speedometer\" :depth=\"1\"/>\r\n          </template>\r\n        </n-input-number>\r\n      </template>\r\n      允许设置的倍速范围为 0.1 ~ 10\r\n    </n-tooltip>\r\n\r\n    <n-dropdown :options=\"speedUnitOptions\" trigger=\"hover\" @select=\"handleSpeedUnitChanged\">\r\n      <n-button>用户资料</n-button>\r\n    </n-dropdown>\r\n  </n-space>\r\n</template>\r\n\r\n<script setup>\r\n// noinspection SpellCheckingInspection\r\nimport GPXreader from \"./readGPX\";\r\nimport {getCurrentInstance, h, ref} from \"vue\";\r\nimport {NButton, NCard, NDropdown, NIcon, NInputNumber, NSpace, NTooltip, useMessage} from \"naive-ui\";\r\nimport {Checkmark, Pause, Play, ReturnUpBack, Speedometer} from \"@vicons/ionicons5\";\r\n\r\nconst renderIcon = (icon) => {\r\n  return () => {\r\n    return h(NIcon, null, {\r\n      default: () => h(icon)\r\n    });\r\n  };\r\n};\r\n\r\nconst message = useMessage();\r\n\r\nconst ctx = getCurrentInstance().appContext.config.globalProperties;\r\n\r\nconst checkMark = renderIcon(Checkmark);\r\n\r\nconst speedUnitOptions = ref([\r\n  {\r\n    label: 'm/s',\r\n    key: 0,\r\n    icon: checkMark\r\n  },\r\n  {\r\n    label: 'km/h',\r\n    key: 1\r\n  },\r\n  {\r\n    label: 'min/km',\r\n    key: 2\r\n  }\r\n])\r\n\r\nfunction handleSpeedUnitChanged(key) {\r\n  for (let i = 0; i < 3; i++) {\r\n    speedUnitOptions.value[i].icon = null;\r\n  }\r\n  speedUnitOptions.value[key].icon = checkMark;\r\n  ctx.$bus.$emit('unitOfSpeedChanged', key);\r\n}\r\n\r\n\r\nconst speedRatio = ref();\r\n\r\nfunction handleSpeedRatioChanged(key) {\r\n  if (key !== null) {\r\n    ctx.$bus.$emit('speedRatioChanged', key);\r\n    message.info('调整为' + key + '倍速');\r\n    speedRatio.value = key;\r\n  }\r\n}\r\n\r\nfunction clickPlayButton() {\r\n  // console.log(params);\r\n  ctx.$bus.$emit('play');\r\n  //TODO\r\n}\r\n\r\nfunction clickPauseButton() {\r\n  // console.log(params);\r\n  ctx.$bus.$emit('pause');\r\n  //TODO\r\n}\r\n\r\nfunction clickBackToStartButton() {\r\n  ctx.$bus.$emit('backToStart');\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n#title {\r\n  background-color: rgba(0, 0, 0, 0);\r\n}\r\n\r\n#inputNumber {\r\n  margin: 0 auto;\r\n  width: 90%;\r\n}\r\n</style>","import script from \"./controlPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./controlPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./controlPanel.vue?vue&type=style&index=0&id=3f03cc8c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export function mean(numArr) {\r\n    let dataLength = numArr.length;\r\n\r\n    if (dataLength === undefined) {\r\n        return numArr;\r\n    } else {\r\n        let sum = 0;\r\n        for (let i = 0; i < dataLength; i++) {\r\n            sum += numArr[i];\r\n        }\r\n        return sum / dataLength;\r\n    }\r\n}\r\n\r\nexport function round(number, precision = 0) {\r\n    let temp = Math.pow(10, precision)\r\n    return Math.round(number * temp) / temp;\r\n}\r\n\r\nexport function timeFormat(inputData) {\r\n    const dt = new Date(inputData);\r\n\r\n    let year = dt.getFullYear();//年\r\n    let month = dt.getMonth() + 1;//月；从0开始所以要加1\r\n    let date = dt.getDate();//日\r\n    let hour = dt.getHours();\r\n    let minutes = dt.getMinutes();\r\n    let seconds = dt.getSeconds();\r\n\r\n    month = month > 9 ? month : \"0\" + month;\r\n    date = date > 9 ? date : \"0\" + date;\r\n    hour = hour > 9 ? hour : \"0\" + hour;\r\n    minutes = minutes > 9 ? minutes : \"0\" + minutes;\r\n    seconds = seconds > 9 ? seconds : \"0\" + seconds;\r\n\r\n    return `${year}-${month}-${date} ${hour}:${minutes}:${seconds}`;\r\n}","import GpxParser from 'gpxparser'\r\nimport {mean} from \"@/components/utils\";\r\n\r\nfunction GpxProcess(fileText) {\r\n    let gpx = new GpxParser();\r\n    gpx.parse(fileText);\r\n\r\n    let data = gpx.tracks[0];\r\n    let dist = data.distance.cumul;\r\n    let points = data.points;\r\n\r\n    let timeArr = points.map((item) => {\r\n        return +item.time;\r\n    });\r\n\r\n    let dataLength = dist.length;\r\n    let speedArr = new Array(dataLength);\r\n    let diffDist, diffTime;\r\n    for (let i = 0; i < dataLength - 2; i++) {\r\n        diffDist = dist[i + 2] - dist[i];\r\n        diffTime = timeArr[i + 2] - timeArr[i];\r\n        speedArr[i + 1] = 1000 * diffDist / diffTime;\r\n    }\r\n\r\n    speedArr[0] = 1000 * dist[0] / (points[1].time - points[0].time);\r\n    speedArr[dataLength - 1] = 1000 * (dist[dataLength - 1] - dist[dataLength - 3]) / (points[dataLength - 1].time - points[dataLength - 3].time);\r\n\r\n    this.timeArr = timeArr;\r\n    this.speedArr = speedArr;\r\n    this.gpx = gpx;\r\n}\r\n\r\nGpxProcess.prototype.getData = function () {\r\n    let timeArr = this.timeArr;\r\n    let speedArr = this.speedArr;\r\n    let dataLength = timeArr.length;\r\n\r\n    let chartDataArr = new Array(dataLength)\r\n    for (let i = 0; i < dataLength; i++) {\r\n        chartDataArr[i] = {value: [timeArr[i], speedArr[i]]};\r\n    }\r\n    return chartDataArr\r\n}\r\n\r\nGpxProcess.prototype.getDataAsKmPreHour = function () {\r\n    let timeArr = this.timeArr;\r\n    let speedArr = this.speedArr;\r\n    let dataLength = timeArr.length;\r\n\r\n    let chartDataArr = new Array(dataLength)\r\n    for (let i = 0; i < dataLength; i++) {\r\n        chartDataArr[i] = {value: [timeArr[i], 3.6 * speedArr[i]]};\r\n    }\r\n\r\n    return chartDataArr\r\n}\r\n\r\nGpxProcess.prototype.getDataAsMinutePerKm = function () {\r\n    let timeArr = Array.from(this.timeArr);\r\n    let speedArr = Array.from(this.speedArr);\r\n    let dataLength = timeArr.length;\r\n\r\n    let chartDataArr = new Array(dataLength);\r\n\r\n    let total_time = timeArr[timeArr.length - 1] - timeArr[0];\r\n    let total_dist = this.gpx.tracks[0].distance.total\r\n    let avgPace = total_time / (60 * total_dist);\r\n    let tempSpeed;\r\n    let currPace;\r\n    for (let i = 0; i < dataLength; i++) {\r\n        if (speedArr[i] < 0.2) {\r\n            if (i > 1 && i < dataLength - 2) {\r\n                tempSpeed = speedArr.slice(i - 2, i + 2);\r\n            } else if (i === 1 || i === dataLength - 2) {\r\n                tempSpeed = speedArr.slice(i - 1, i + 1);\r\n            } else {\r\n                tempSpeed = speedArr;\r\n            }\r\n            currPace = 50 / (3 * mean(tempSpeed));\r\n        } else {\r\n            currPace = 50 / (3 * speedArr[i]);\r\n        }\r\n\r\n        if (currPace > avgPace * 3) currPace = 0;\r\n\r\n        chartDataArr[i] = {value: [timeArr[i], currPace]};\r\n    }\r\n\r\n    return chartDataArr;\r\n}\r\n\r\nGpxProcess.prototype.toPolyline = function () {\r\n    let points = this.gpx.tracks[0].points;\r\n    let dataLength = points.length;\r\n    let polyline = new Array(dataLength);\r\n    let currPoint;\r\n    for (let i = 0; i < dataLength; i++) {\r\n        currPoint = points[i];\r\n        polyline[i] = [currPoint.lat, currPoint.lon];\r\n    }\r\n    return polyline;\r\n}\r\n\r\nGpxProcess.prototype.getTimeArr = function () {\r\n    return this.timeArr;\r\n}\r\n\r\nexport default GpxProcess;","<template>\r\n  <v-chart ref=\"chart\" :autoresize=\"true\" :option=\"option\" @click=\"clickEvent\"/>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport VChart, {THEME_KEY} from \"vue-echarts\";\r\nimport {getCurrentInstance, onMounted, provide, ref} from \"vue\";\r\nimport * as echarts from 'echarts/core';\r\nimport {\r\n  DataZoomComponent,\r\n  GridComponent,\r\n  MarkLineComponent,\r\n  MarkPointComponent,\r\n  TitleComponent,\r\n  ToolboxComponent,\r\n  TooltipComponent\r\n} from 'echarts/components';\r\nimport {LineChart} from 'echarts/charts';\r\nimport {UniversalTransition} from 'echarts/features';\r\nimport {CanvasRenderer} from 'echarts/renderers';\r\nimport GpxProcess from \"@/components/Control/gpxProcess\";\r\nimport {round, timeFormat} from \"@/components/utils\";\r\n\r\nprovide(THEME_KEY, \"light\")\r\n\r\necharts.use([\r\n  GridComponent,\r\n  MarkPointComponent,\r\n  MarkLineComponent,\r\n  ToolboxComponent,\r\n  DataZoomComponent,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LineChart,\r\n  CanvasRenderer,\r\n  UniversalTransition,\r\n]);\r\n\r\nfunction clickEvent(params) {\r\n  console.log(params);\r\n}\r\n\r\n//生成测试数据\r\nlet speedRatio = 1;\r\nlet gpx;\r\nlet index;\r\nlet chartData;\r\nlet timeDelta;\r\nlet date = new Date(2022, 5, 16, 5, 30, 30);\r\nlet dataLength = 105;\r\nlet data = Array(dataLength);\r\n\r\nfor (let i = 0; i < dataLength; i++) {\r\n  date = new Date(date.valueOf() + 1000)\r\n  data[i] = {value: [+date, round(Math.random() * 20 + 100, 2)]}\r\n}\r\n\r\nlet _option = {\r\n  title: {text: 'GPXbox', left: 'center'},\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    formatter: (params) => {\r\n      params = params[0].data;\r\n      let dateStr = timeFormat(params.value[0]);\r\n      return `<p>${dateStr}<br/>${round(params.value[1], 2)}</p>`;\r\n    },\r\n    axisPointer: {\r\n      type: 'cross',\r\n      animation: true,\r\n      snap: true\r\n    }\r\n  },\r\n  xAxis: {\r\n    type: 'time',\r\n    splitLine: {\r\n      show: false\r\n    },\r\n    boundaryGap: false\r\n  },\r\n  yAxis: {\r\n    type: 'value',\r\n    scale: true,\r\n    boundaryGap: ['0%', '0%'],\r\n    splitNumber: 2\r\n  },\r\n  toolbox: {\r\n    show: true,\r\n    feature: {\r\n      saveAsImage: {}\r\n    }\r\n  },\r\n  dataZoom: [\r\n    {\r\n      type: 'slider',\r\n      xAxisIndex: 0,\r\n      filterMode: 'filter'\r\n    }, {\r\n      type: 'slider',\r\n      yAxisIndex: 0,\r\n      filterMode: 'none',\r\n      left: '92%'\r\n    }\r\n  ],\r\n  series: [\r\n    {\r\n      type: 'line',\r\n      smooth: true,\r\n      showSymbol: false,\r\n      data: data,\r\n      markLine: {\r\n        symbol: 'none',\r\n        data: [\r\n          {\r\n            symbol: 'circle',\r\n            label: {\r\n              position: 'end',\r\n              backgroundColor: \"rgba(143,243,192,0.5)\",\r\n              borderRadius: [4, 4, 4, 4],\r\n              padding: [5, 5, 5, 5],\r\n              formatter: (params) => {\r\n                return timeFormat(params.data.value);\r\n              }\r\n            },\r\n            xAxis: 0\r\n          },\r\n          {\r\n            symbol: 'circle',\r\n            yAxis: 0,\r\n            label: {\r\n              position: 'start',\r\n              backgroundColor: \"rgba(143,243,192,0.75)\",\r\n              borderRadius: [4, 4, 4, 4],\r\n              padding: [5, 5, 5, 5],\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      markPoint: {\r\n        data: [],\r\n        symbol: \"circle\",\r\n        label: {\r\n          show: false\r\n        },\r\n        symbolSize: 6,\r\n        itemStyle: {\r\n          color: \"rgba(255, 0, 0, 1)\"\r\n        }\r\n      }\r\n    }\r\n  ],\r\n}\r\nlet option = ref(_option);\r\nconst chart = ref();\r\n\r\nonMounted(() => {\r\n  // chart.value.setOption(_option);\r\n})\r\n\r\nconst ctx = getCurrentInstance().appContext.config.globalProperties;\r\n\r\nlet setTimeoutID = [];\r\n\r\nfunction addChart(file) {\r\n  const fr = new FileReader();\r\n  fr.readAsText(file, 'utf-8');\r\n\r\n  fr.onload = () => {\r\n    for (let j = 0, idLength = setTimeoutID.length; j < idLength; j++)\r\n      clearTimeout(setTimeoutID[j]);\r\n\r\n    gpx = new GpxProcess(fr.result);\r\n\r\n    index = 0;\r\n    chartData = gpx.getData();\r\n    option.value.series[0].data = chartData;\r\n\r\n    let timeArr = gpx.getTimeArr();\r\n    dataLength = chartData.length;\r\n    timeDelta = new Array(dataLength);\r\n    for (let i = 0; i < dataLength; i++) {\r\n      timeDelta[i] = timeArr[i + 1] - timeArr[i];\r\n    }\r\n    timeDelta[dataLength - 1] = 0;\r\n\r\n    ctx.$bus.$emit('sendPolyline', {polyline: gpx.toPolyline(), timeDelta: timeDelta});\r\n  }\r\n\r\n}\r\n\r\nctx.$bus.$on(\"fileRead\", addChart);\r\n\r\nctx.$bus.$on(\"fileTitleRead\", (title) => {\r\n  option.value.title.text = title;\r\n});\r\n\r\nctx.$bus.$on('speedRatioChanged', (sc) => {\r\n  speedRatio = sc;\r\n});\r\n\r\nctx.$bus.$on('play', () => {\r\n  let set = () => {\r\n    if (index < dataLength - 1) {\r\n      option.value.series[0].markLine.data[0].xAxis = chartData[index].value[0];\r\n      option.value.series[0].markLine.data[1].yAxis = chartData[index].value[1];\r\n      option.value.series[0].markPoint.data[0] = {coord: chartData[index].value};\r\n      // console.log('wait for ' + timeDelta[index] / speedRatio);\r\n      setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n      index++;\r\n    }\r\n  }\r\n  setTimeoutID.push(setTimeout(set, 0));\r\n});\r\n\r\nctx.$bus.$on('pause', () => {\r\n  for (let i = 0, idLength = setTimeoutID.length; i < idLength; i++) {\r\n    clearTimeout(setTimeoutID[i]);\r\n  }\r\n});\r\n\r\nctx.$bus.$on('backToStart', () => {\r\n  index = 0;\r\n  option.value.series[0].markLine.data[0].xAxis = chartData[0].value[0];\r\n  option.value.series[0].markLine.data[1].yAxis = chartData[0].value[1];\r\n  option.value.series[0].markPoint.data[0] = {coord: chartData[0].value};\r\n});\r\n\r\nctx.$bus.$on('unitOfSpeedChanged', key => {\r\n  if (key === 0) {\r\n    chartData = gpx.getData();\r\n    option.value.series[0].markLine.data[1].label.formatter = '{c} m/s';\r\n\r\n  } else if (key === 1) {\r\n    chartData = gpx.getDataAsKmPreHour();\r\n    option.value.series[0].markLine.data[1].label.formatter = '{c} km/h';\r\n\r\n  } else if (key === 2) {\r\n    chartData = gpx.getDataAsMinutePerKm();\r\n    option.value.series[0].markLine.data[1].label.formatter = (params) => {\r\n      let min = Math.trunc(params.data.value);\r\n      let sec = Math.trunc((params.data.value - min) * 60);\r\n      if (sec < 10) sec = '0' + sec;\r\n      return min + ':' + sec;\r\n    }\r\n  } else {\r\n    console.log(key);\r\n  }\r\n\r\n  option.value.series[0].data = chartData;\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import script from \"./viewChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./viewChart.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=fe349154&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import mitt from \"mitt\";\r\n\r\nconst emitter = mitt()\r\n\r\nconst bus = {}\r\nbus.$on = emitter.on\r\nbus.$off = emitter.off\r\nbus.$emit = emitter.emit\r\n\r\nexport default bus","import { createApp } from 'vue'\nimport App from './App'\nimport bus from './components/bus'\n\nconst app = createApp(App);\n\napp.config.globalProperties.$bus = bus;\n\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgpxbox\"] = self[\"webpackChunkgpxbox\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9779); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","gpxPolyline","gpxLineDecorator","index","animP","dataLength","inputPolyline","timeDelta","speedRatio","setTimeoutID","addMap","L","center","zoom","preferCanvas","addScale","maxWidth","metric","imperial","addTo","addTile","tileUrl","minZoom","maxZoom","addCircle","ctx","getCurrentInstance","appContext","config","globalProperties","$bus","$on","sc","input","setLatLngs","polyline","setPaths","fitBounds","getBounds","undefined","lat","lon","weight","color","length","inputPl","Array","i","point","set","addLatLng","push","setTimeout","j","idLength","clearTimeout","startPoint","getLatLngs","onMounted","smoothFactor","patterns","repeat","symbol","pixelSize","headAngle","polygon","pathOptions","stroke","__exports__","uploader","ref","beforeUpload","file","$emit","name","renderIcon","icon","h","NIcon","default","message","useMessage","checkMark","Checkmark","speedUnitOptions","label","key","handleSpeedUnitChanged","value","handleSpeedRatioChanged","info","clickPlayButton","clickPauseButton","clickBackToStartButton","mean","numArr","sum","round","number","precision","temp","Math","pow","timeFormat","inputData","dt","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","GpxProcess","fileText","gpx","GpxParser","parse","diffDist","diffTime","data","tracks","dist","distance","cumul","points","timeArr","item","time","speedArr","this","prototype","getData","chartDataArr","getDataAsKmPreHour","getDataAsMinutePerKm","tempSpeed","currPace","from","total_time","total_dist","total","avgPace","slice","toPolyline","currPoint","getTimeArr","clickEvent","params","console","log","provide","THEME_KEY","echarts","GridComponent","MarkPointComponent","MarkLineComponent","ToolboxComponent","DataZoomComponent","TitleComponent","TooltipComponent","LineChart","CanvasRenderer","UniversalTransition","chartData","valueOf","random","_option","title","text","left","tooltip","trigger","formatter","dateStr","axisPointer","type","animation","snap","xAxis","splitLine","show","boundaryGap","yAxis","scale","splitNumber","toolbox","feature","saveAsImage","dataZoom","xAxisIndex","filterMode","yAxisIndex","series","smooth","showSymbol","markLine","position","backgroundColor","borderRadius","padding","markPoint","symbolSize","itemStyle","option","chart","addChart","fr","FileReader","readAsText","onload","result","coord","min","trunc","sec","emitter","mitt","bus","on","$off","off","emit","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}