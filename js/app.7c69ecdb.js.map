{"version":3,"file":"js/app.7c69ecdb.js","mappings":"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","sources":["webpack://gpxbox/./src/components/Map/mapView.vue","webpack://gpxbox/./src/components/Map/mapView.vue?e159","webpack://gpxbox/./src/components/utils.js","webpack://gpxbox/./src/components/Control/controlPanel.vue","webpack://gpxbox/./src/components/Control/controlPanel.vue?7eb6","webpack://gpxbox/./src/components/Control/gpxProcess.js","webpack://gpxbox/./src/components/Chart/viewChart.vue","webpack://gpxbox/./src/components/Chart/viewChart.vue?395e","webpack://gpxbox/./src/App.vue","webpack://gpxbox/./src/components/bus.js","webpack://gpxbox/./src/main.js","webpack://gpxbox/webpack/bootstrap","webpack://gpxbox/webpack/runtime/chunk loaded","webpack://gpxbox/webpack/runtime/compat get default export","webpack://gpxbox/webpack/runtime/define property getters","webpack://gpxbox/webpack/runtime/global","webpack://gpxbox/webpack/runtime/hasOwnProperty shorthand","webpack://gpxbox/webpack/runtime/make namespace object","webpack://gpxbox/webpack/runtime/jsonp chunk loading","webpack://gpxbox/webpack/startup"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-polylinedecorator\"\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\n\r\nlet map;\r\nlet gpxPolyline;\r\nlet gpxLineDecorator;\r\nlet animP;\r\nlet polyline;\r\n\r\nconst addMap = () => {\r\n  map = L.map(\"map\", {\r\n    center: [39.99, 116.303],\r\n    zoom: 15,\r\n    attributionControl: false\r\n  });\r\n};\r\n\r\nconst addScale = map => {\r\n  L.control.scale({\r\n    maxWidth: 100,\r\n    metric: true,\r\n    imperial: false,\r\n  }).addTo(map);\r\n};\r\n\r\nconst addTile = map => {\r\n  let tileUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n  L.tileLayer(tileUrl, {minZoom: 7, maxZoom: 19}).addTo(map);\r\n};\r\n\r\nconst eventBus = getCurrentInstance().appContext.config.globalProperties.$bus;\r\n\r\neventBus.$on('sendPolyline', inputPolyline => {\r\n  gpxPolyline.setLatLngs(inputPolyline);\r\n  gpxLineDecorator.setPaths(gpxPolyline.getLatLngs());\r\n  map.fitBounds(gpxPolyline.getBounds())\r\n\r\n  // 实时轨迹线\r\n  if (animP === undefined) {\r\n    //第一次读入\r\n    animP = L.polyline([inputPolyline[0]], {\r\n      weight: 4,\r\n      color: '#ff6500'\r\n    }).addTo(map);\r\n  } else {\r\n    //重新读入\r\n    animP.setLatLngs([inputPolyline[0]])\r\n  }\r\n  polyline = inputPolyline;\r\n});\r\n\r\neventBus.$on('backToStart', () => {\r\n  let startPoint = animP.getLatLngs()[0];\r\n  animP.setLatLngs([startPoint]);\r\n})\r\n\r\neventBus.$on('indexChanged', index => {\r\n  animP.setLatLngs(polyline.slice(0, index));\r\n});\r\n\r\neventBus.$on('sliderValueChanged', index => {\r\n  animP.setLatLngs(polyline.slice(0, index))\r\n});\r\n\r\nonMounted(() => {\r\n  addMap();\r\n  addScale(map);\r\n  addTile(map);\r\n\r\n  gpxPolyline = L.polyline([], {weight: 4, color: '#00ad53'}).addTo(map);\r\n\r\n  gpxLineDecorator = L.polylineDecorator([], {\r\n    patterns: [{\r\n      repeat: 50,\r\n      symbol: L.Symbol.arrowHead({\r\n        pixelSize: 5,\r\n        headAngle: 75,\r\n        polygon: false,\r\n        pathOptions: {\r\n          stroke: true,\r\n          weight: 2,\r\n          color: '#0f2fe0'\r\n        }\r\n      })\r\n    }]\r\n  }).addTo(map);\r\n});\r\n</script>\r\n\r\n<style>\r\n#map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import script from \"./mapView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./mapView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./mapView.vue?vue&type=style&index=0&id=2903df0a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export function formatSecond(time) {\r\n    time = time / 1000;\r\n    const h = parseInt(time / 3600);\r\n    const minute = parseInt(time / 60 % 60);\r\n    const second = Math.ceil(time % 60);\r\n\r\n    const hours = h < 10 ? '0' + h : h;\r\n    const formatSecond = second > 59 ? 59 : second;\r\n    return `${hours > 0 ? `${hours}:` : ''}${minute < 10 ? '0' + minute : minute}:${formatSecond < 10 ? '0' + formatSecond : formatSecond}`;\r\n}\r\n\r\nexport function formatDistance(dist) {\r\n    if (dist >= 10000) {\r\n        return (dist * 0.001).toFixed(2) + 'km';\r\n    } else {\r\n        return dist.toFixed(1) + 'm';\r\n    }\r\n}\r\n","<template>\r\n  <div>\r\n    <div id=\"box\">\r\n      <!--这个是网页的标题-->\r\n      <n-card id=\"title\" bordered embedded header-style=\"font-size:2.5em\" size=\"small\" title=\"GPXbox\">\r\n        一个还算不错的 GPX 可视化工具\r\n      </n-card>\r\n\r\n      <div class=\"row\">\r\n        <div>\r\n          <n-upload :max=\"1\" accept=\".gpx\" @before-upload=\"beforeUpload\">\r\n            <n-button color=\"#149D1F\" secondary strong>\r\n              <n-icon :component=\"FolderOpen\"/>&nbsp;打开 GPX\r\n            </n-button>\r\n          </n-upload>\r\n        </div>\r\n\r\n        <n-button :disabled=\"fileNotRead\" secondary strong @click=\"clickPlayButton\">\r\n          <n-icon :component=\"Play\"/>\r\n          &nbsp;播放\r\n        </n-button>\r\n\r\n        <n-button :disabled=\"fileNotRead\" secondary strong @click=\"clickPauseButton\">\r\n          <n-icon :component=\"Pause\"/>\r\n          &nbsp;暂停\r\n        </n-button>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <n-button :disabled=\"fileNotRead\" secondary strong @click=\"clickPlayReversedButton\">\r\n          <n-icon :component=\"PlayBack\"/>\r\n          &nbsp;倒放\r\n        </n-button>\r\n\r\n        <n-button :disabled=\"fileNotRead\" secondary strong @click=\"clickBackToStartButton\">\r\n          <n-icon :component=\"ReturnUpBack\"/>\r\n          &nbsp;回到起点\r\n        </n-button>\r\n\r\n        <n-dropdown :options=\"speedUnitOptions\" trigger=\"hover\" @select=\"handleSpeedUnitChanged\">\r\n          <n-button secondary strong>\r\n            <n-icon :component=\"BarChart\"/>\r\n            &nbsp;速度单位\r\n          </n-button>\r\n        </n-dropdown>\r\n      </div>\r\n\r\n      <n-tooltip trigger=\"hover\">\r\n        <template #trigger>\r\n          <n-input-number id=\"inputNumber\" :default-value=\"1\" :max=\"5\" :min=\"0.1\" :value=\"speedRatio\"\r\n                          @update:value=\"handleSpeedRatioChanged\">\r\n            <template #prefix>\r\n              <n-icon :component=\"Speedometer\" :depth=\"1\"/>\r\n            </template>\r\n            <template #suffix>\r\n              倍速\r\n            </template>\r\n          </n-input-number>\r\n        </template>\r\n        允许设置的倍速范围为 0.1 ~ 5\r\n      </n-tooltip>\r\n\r\n      <n-grid :cols=\"2\" y-gap=\"6\">\r\n        <n-gi class=\"statsLabel\">总里程</n-gi>\r\n        <n-gi class=\"statsLabel\">总时间</n-gi>\r\n        <n-gi class=\"statsData\">\r\n          <n-icon :component=\"Analytics\"/>\r\n          {{ totalDistance }}\r\n        </n-gi>\r\n        <n-gi class=\"statsData\">\r\n          <n-icon :component=\"Timer\"/>\r\n          {{ totalTime }}\r\n        </n-gi>\r\n\r\n        <n-gi class=\"statsLabel\">平均速度</n-gi>\r\n        <n-gi class=\"statsLabel\">记录点数量</n-gi>\r\n        <n-gi class=\"statsData\">\r\n          <n-icon :component=\"SpeedometerSharp\"/>\r\n          {{ meanSpeed }}\r\n        </n-gi>\r\n        <n-gi class=\"statsData\">\r\n          <n-icon :component=\"StatsChart\"/>\r\n          {{ numPoints }}\r\n        </n-gi>\r\n\r\n        <n-gi class=\"statsLabel\">已移动时间</n-gi>\r\n        <n-gi class=\"statsLabel\">已移动距离</n-gi>\r\n        <n-gi class=\"statsData\">{{ movedTime }}</n-gi>\r\n        <n-gi class=\"statsData\">{{ movedDist }}</n-gi>\r\n\r\n      </n-grid>\r\n\r\n      <n-slider id=\"slider\" v-model:value=\"sliderValue\" :disabled=\"fileNotRead\"\r\n                :format-tooltip=\"v=>{return `${(v*0.01).toFixed(2)}%`}\"\r\n                :max=\"10000\" :step=\"1\" placement=\"bottom\" show-tooltip @update:value=\"sliderValueChanged\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// noinspection SpellCheckingInspection\r\nimport {getCurrentInstance, h, ref} from \"vue\";\r\nimport {\r\n  Analytics,\r\n  BarChart,\r\n  Checkmark,\r\n  FolderOpen,\r\n  Pause,\r\n  Play,\r\n  PlayBack,\r\n  ReturnUpBack,\r\n  Speedometer,\r\n  SpeedometerSharp,\r\n  StatsChart,\r\n  Timer\r\n} from \"@vicons/ionicons5\";\r\nimport {\r\n  NButton,\r\n  NCard,\r\n  NDropdown,\r\n  NGi,\r\n  NGrid,\r\n  NIcon,\r\n  NInputNumber,\r\n  NSlider,\r\n  NTooltip,\r\n  NUpload,\r\n  useMessage\r\n} from \"naive-ui\";\r\nimport {formatDistance, formatSecond} from \"@/components/utils\";\r\n\r\nconst renderIcon = icon => {\r\n  //渲染图标用的\r\n  return () => {\r\n    return h(NIcon, null, {\r\n      default: () => h(icon)\r\n    });\r\n  };\r\n};\r\n\r\nlet _meanSpeed;\r\nlet cumulDist;//累积距离\r\nlet timeArr;//时间列表\r\nlet startTime;//起始时间\r\nlet fileNotRead = ref(true);\r\nconst speedRatio = ref();//加速比率\r\nconst sliderValue = ref(0);\r\nconst movedTime = ref(0);\r\nconst movedDist = ref(0);\r\nconst totalDistance = ref();\r\nconst totalTime = ref();\r\nconst meanSpeed = ref();\r\nconst numPoints = ref();// 点的总数量\r\nconst checkMark = renderIcon(Checkmark);\r\nconst message = useMessage();\r\nconst eventBus = getCurrentInstance().appContext.config.globalProperties.$bus;\r\n\r\n//速度单位\r\nlet unitOfSpeedIndex = 0;\r\nconst speedUnitOptions = ref([\r\n  {\r\n    label: 'm/s',\r\n    key: 0,\r\n    icon: checkMark\r\n  },\r\n  {\r\n    label: 'km/h',\r\n    key: 1\r\n  },\r\n  {\r\n    label: 'min/km (Experimental)',\r\n    key: 2\r\n  }\r\n])\r\n\r\nconst setMovedData = index => {\r\n  movedDist.value = formatDistance(cumulDist[index]);\r\n  movedTime.value = formatSecond(timeArr[index] - startTime);\r\n}\r\n\r\neventBus.$on('statsData', stats => {\r\n  //展示统计数据\r\n  totalDistance.value = formatDistance(stats.totalDistance);\r\n\r\n  totalTime.value = stats.totalTime;\r\n  numPoints.value = stats.numPoints;\r\n\r\n  _meanSpeed = stats.meanSpeed;\r\n  meanSpeed.value = _meanSpeed[unitOfSpeedIndex];\r\n\r\n  timeArr = stats.timeArr;\r\n  startTime = timeArr[0];\r\n  cumulDist = stats.cumulDist;\r\n});\r\n\r\neventBus.$on(\"fileRead\", () => {\r\n  fileNotRead.value = false;\r\n});\r\n\r\neventBus.$on('indexChanged', index => {\r\n  sliderValue.value = 10000 * index / numPoints.value;\r\n  setMovedData(index);\r\n});\r\n\r\nfunction sliderValueChanged(value) {\r\n  const tempIndex = (value * 0.0001 * numPoints.value).toFixed();\r\n  //更新已移动距离和时间的值\r\n  setMovedData(tempIndex);\r\n  //更新地图和图表\r\n  eventBus.$emit('sliderValueChanged', tempIndex);\r\n}\r\n\r\nfunction handleSpeedUnitChanged(key) {\r\n  if (fileNotRead.value) {\r\n    message.warning('请先读取文件');\r\n  } else {\r\n    eventBus.$emit('unitOfSpeedChanged', key);\r\n    meanSpeed.value = _meanSpeed[key];\r\n\r\n    for (let i = 0; i < 3; i++) {\r\n      speedUnitOptions.value[i].icon = null;\r\n    }\r\n    speedUnitOptions.value[key].icon = checkMark;\r\n  }\r\n}\r\n\r\nfunction handleSpeedRatioChanged(key) {\r\n  if (key === null) {\r\n    //当输入框为空的时候 key===null\r\n    message.error('请输入正确的倍速');\r\n  } else {\r\n    eventBus.$emit('speedRatioChanged', key);\r\n    speedRatio.value = key;\r\n    message.success('调整为' + key + '倍速');\r\n  }\r\n}\r\n\r\nfunction clickPlayButton() {\r\n  eventBus.$emit('play');\r\n}\r\n\r\nfunction clickPauseButton() {\r\n  eventBus.$emit('pause');\r\n}\r\n\r\nfunction clickPlayReversedButton() {\r\n  eventBus.$emit('playReversed');\r\n}\r\n\r\nfunction clickBackToStartButton() {\r\n  eventBus.$emit('backToStart');\r\n  setMovedData(0);\r\n  sliderValue.value = 0;\r\n}\r\n\r\nfunction beforeUpload({file}) {\r\n  eventBus.$emit(\"fileRead\", file.file);\r\n  return false;\r\n}\r\n</script>\r\n\r\n<style>\r\n#title {\r\n  display: flex;\r\n  order: 0;\r\n}\r\n\r\n#inputNumber {\r\n  margin: 0 auto;\r\n  width: 80%;\r\n}\r\n\r\n#box {\r\n  height: 70vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n#slider {\r\n  margin: 0 auto;\r\n  width: 80%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n\r\n.statsLabel {\r\n  font-size: 12px;\r\n  opacity: 75%;\r\n}\r\n\r\n.statsData {\r\n  font-size: 17px;\r\n}\r\n</style>\r\n","import script from \"./controlPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./controlPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./controlPanel.vue?vue&type=style&index=0&id=0c001471&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import GpxParser from 'gpxparser'\r\nimport {formatSecond} from \"@/components/utils\";\r\n\r\nfunction GpxProcess(fileText) {\r\n    let gpx = new GpxParser();\r\n    gpx.parse(fileText);\r\n\r\n    let data = gpx.tracks[0];\r\n    let dist = data.distance.cumul;//累积距离\r\n    let points = data.points;\r\n\r\n    let timeArr = points.map((item) => {\r\n        return +item.time;\r\n    });\r\n\r\n    const dataLength = dist.length;\r\n    let diffDistArr = new Array(dataLength + 10);\r\n    let diffTimeArr = new Array(dataLength + 10);\r\n    let speedArr = new Array(dataLength);\r\n    let diffDist, diffTime;\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n        diffDistArr[i] = 0;\r\n        diffTimeArr[i] = timeArr[0];\r\n    }\r\n    for (let i = 5; i < dataLength + 5; i++) {\r\n        diffDistArr[i] = dist[i - 5];\r\n        diffTimeArr[i] = timeArr[i - 5];\r\n    }\r\n    for (let i = dataLength + 5; i < dataLength + 10; i++) {\r\n        diffDistArr[i] = dist[dataLength - 1];\r\n        diffTimeArr[i] = timeArr[dataLength - 1];\r\n    }\r\n    for (let i = 0; i < dataLength; i++) {\r\n        diffDist = diffDistArr[i + 10] - diffDistArr[i];\r\n        diffTime = diffTimeArr[i + 10] - diffTimeArr[i];\r\n        speedArr[i] = 1000 * diffDist / diffTime;\r\n    }\r\n\r\n    this.speedArr = speedArr;\r\n    this.gpx = gpx;\r\n    this.dataLength = dataLength;\r\n    this._timeArr = timeArr;\r\n    this._data = null;\r\n    this._dataAsKmPreHour = null;\r\n    this._dataAsMinutePerKm = null;\r\n    this._polyline = null;\r\n    this._stats = null;\r\n}\r\n\r\nGpxProcess.prototype.getData = function () {\r\n    if (this._data === null) {\r\n        const timeArr = this._timeArr;\r\n        const speedArr = this.speedArr;\r\n        const dataLength = this.dataLength;\r\n\r\n        let chartDataArr = new Array(dataLength)\r\n        for (let i = 0; i < dataLength; i++) {\r\n            chartDataArr[i] = {value: [timeArr[i], speedArr[i]]};\r\n        }\r\n        this._data = chartDataArr;\r\n    }\r\n    return this._data;\r\n}\r\n\r\nGpxProcess.prototype.getDataAsKmPreHour = function () {\r\n    if (this._dataAsKmPreHour === null) {\r\n        const timeArr = this._timeArr;\r\n        const speedArr = this.speedArr;\r\n        const dataLength = this.dataLength;\r\n\r\n        let chartDataArr = new Array(dataLength)\r\n        for (let i = 0; i < dataLength; i++) {\r\n            chartDataArr[i] = {value: [timeArr[i], 3.6 * speedArr[i]]};\r\n        }\r\n        this._dataAsKmPreHour = chartDataArr;\r\n    }\r\n    return this._dataAsKmPreHour;\r\n}\r\n\r\nGpxProcess.prototype.getDataAsMinutePerKm = function () {\r\n    if (this._dataAsMinutePerKm === null) {\r\n        const timeArr = this._timeArr;\r\n        const dataLength = this.dataLength;\r\n        const speedArr = new Array(dataLength + 10).fill(0);\r\n\r\n        for (let i = 5; i < dataLength + 5; i++) {\r\n            speedArr[i] = this.speedArr[i];\r\n        }\r\n\r\n        const total_time = timeArr[timeArr.length - 1] - timeArr[0];\r\n        const total_dist = this.gpx.tracks[0].distance.total\r\n        const avgPace = total_time / (60 * total_dist);\r\n\r\n        let chartDataArr = new Array(dataLength);\r\n        let currPace;\r\n        for (let i = 0; i < dataLength; i++) {\r\n            currPace = 50 / (3 * speedArr[i]);\r\n            if (currPace > avgPace * 3) currPace = 0;\r\n\r\n            chartDataArr[i] = {value: [timeArr[i], currPace]};\r\n        }\r\n        this._dataAsMinutePerKm = chartDataArr;\r\n    }\r\n    return this._dataAsMinutePerKm;\r\n}\r\n\r\nGpxProcess.prototype.toPolyline = function () {\r\n    if (this._polyline === null) {\r\n        const points = this.gpx.tracks[0].points;\r\n        const dataLength = this.dataLength;\r\n        let polyline = new Array(dataLength);\r\n        let currPoint;\r\n        for (let i = 0; i < dataLength; i++) {\r\n            currPoint = points[i];\r\n            polyline[i] = {lat: currPoint.lat, lon: currPoint.lon};\r\n        }\r\n        this._polyline = polyline;\r\n    }\r\n    return this._polyline;\r\n}\r\n\r\nGpxProcess.prototype.getTimeArr = function () {\r\n    return this._timeArr;\r\n}\r\n\r\nGpxProcess.prototype.getStats = function () {\r\n    if (this._stats === null) {\r\n        let stats = {};\r\n        const dataLength = this.dataLength;\r\n        const _totalTime = this.gpx.tracks[0].points[dataLength - 1].time - this.gpx.tracks[0].points[0].time;\r\n        stats.numPoints = dataLength;\r\n        stats.totalTime = formatSecond(_totalTime)\r\n        stats.totalDistance = this.gpx.tracks[0].distance.total.toFixed();\r\n        const speed = 1000 * stats.totalDistance / _totalTime;\r\n        const speedAsKmPreHour = speed * 3.6;\r\n        const speedAsMinutePerKm = 1000 / speed;\r\n\r\n        stats.meanSpeed = [\r\n            speed.toFixed(2) + 'm/s',\r\n            speedAsKmPreHour.toFixed(2) + 'km/h',\r\n            formatSecond(speedAsMinutePerKm * 1000) + '/km'\r\n        ];\r\n\r\n        stats.cumulDist = this.gpx.tracks[0].distance.cumul;\r\n        stats.timeArr = this._timeArr;\r\n\r\n        this._stats = stats;\r\n    }\r\n    return this._stats;\r\n}\r\n\r\n\r\nexport default GpxProcess;\r\n","<template>\r\n  <v-chart ref=\"chart\" :autoresize=\"true\" :option=\"option\" @click=\"handleClick\"/>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport VChart from \"vue-echarts\";\r\nimport {getCurrentInstance, ref} from \"vue\";\r\nimport {use} from 'echarts/core';\r\nimport {\r\n  DataZoomComponent,\r\n  GridComponent,\r\n  MarkLineComponent,\r\n  MarkPointComponent,\r\n  TitleComponent,\r\n  ToolboxComponent,\r\n  TooltipComponent\r\n} from 'echarts/components';\r\nimport {LineChart} from 'echarts/charts';\r\nimport {UniversalTransition} from 'echarts/features';\r\nimport {CanvasRenderer} from 'echarts/renderers';\r\nimport GpxProcess from \"@/components/Control/gpxProcess\";\r\n\r\nuse([\r\n  GridComponent,\r\n  MarkPointComponent,\r\n  MarkLineComponent,\r\n  ToolboxComponent,\r\n  DataZoomComponent,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LineChart,\r\n  CanvasRenderer,\r\n  UniversalTransition,\r\n]);\r\n\r\nlet speedRatio = 1;\r\nlet gpx;//gpx对象\r\nlet index;//当前索引\r\nlet chartData;//图表数据\r\nlet timeDelta;//时间间隔序列\r\nlet dataLength;//点的数量\r\n\r\nconst speedFormatter = [\r\n  {\r\n    markLineY: '{c} m/s',\r\n    tooltip: (params) => {\r\n      return `${params[0].data.value[1].toFixed(2)}m/s`;\r\n    }\r\n  }, {\r\n    markLineY: '{c} km/h',\r\n    tooltip: params => {\r\n      return `${params[0].data.value[1].toFixed(2)}km/h`;\r\n    }\r\n  }, {\r\n    markLineY: params => {\r\n      let min = Math.trunc(params.data.value);\r\n      let sec = Math.trunc((params.data.value - min) * 60);\r\n      if (sec < 10) sec = '0' + sec;\r\n      return min + ':' + sec;\r\n    },\r\n    tooltip: params => {\r\n      let value = params[0].data.value[1];\r\n      let min = Math.trunc(value);\r\n      let sec = Math.trunc((value - min) * 60);\r\n      if (sec < 10) sec = '0' + sec;\r\n      return min + ':' + sec + '/km';\r\n    }\r\n  }\r\n];\r\n\r\nconst option = ref({\r\n  title: {text: 'GPXbox', left: 'center'},\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    formatter: speedFormatter[0].tooltip,\r\n    axisPointer: {\r\n      type: 'cross',\r\n      animation: true,\r\n      snap: true\r\n    }\r\n  },\r\n  xAxis: {\r\n    type: 'time',\r\n    splitLine: {\r\n      show: false\r\n    },\r\n    boundaryGap: false\r\n  },\r\n  yAxis: {\r\n    type: 'value',\r\n    scale: true,\r\n    boundaryGap: ['0%', '0%'],\r\n    splitNumber: 2\r\n  },\r\n  toolbox: {\r\n    show: true,\r\n    feature: {\r\n      saveAsImage: {}\r\n    }\r\n  },\r\n  dataZoom: [\r\n    {\r\n      type: 'slider',\r\n      xAxisIndex: 0,\r\n      filterMode: 'filter'\r\n    }, {\r\n      type: 'slider',\r\n      yAxisIndex: 0,\r\n      filterMode: 'none',\r\n      left: '92%'\r\n    }\r\n  ],\r\n  series: [\r\n    {\r\n      type: 'line',\r\n      smooth: true,\r\n      showSymbol: false,\r\n      markLine: {\r\n        symbol: 'none',\r\n        data: [\r\n          {\r\n            symbol: 'circle',\r\n            label: {\r\n              position: 'end',\r\n              backgroundColor: \"rgba(143,243,192,0.5)\",\r\n              borderRadius: [4, 4, 4, 4],\r\n              padding: [5, 5, 5, 5],\r\n              formatter: (input) => {\r\n                return new Date(input.data.coord[0]).toLocaleString();\r\n              }\r\n            },\r\n            xAxis: 0\r\n          },\r\n          {\r\n            symbol: 'circle',\r\n            yAxis: 0,\r\n            label: {\r\n              position: 'start',\r\n              backgroundColor: \"rgba(143,243,192,0.75)\",\r\n              borderRadius: [4, 4, 4, 4],\r\n              padding: [5, 5, 5, 5],\r\n              formatter: speedFormatter[0].markLineY\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      markPoint: {\r\n        data: [],\r\n        symbol: \"circle\",\r\n        label: {\r\n          show: false\r\n        },\r\n        symbolSize: 6,\r\n        itemStyle: {\r\n          color: \"rgba(255, 0, 0, 1)\"\r\n        }\r\n      }\r\n    }\r\n  ],\r\n});\r\nconst chart = ref();\r\nconst eventBus = getCurrentInstance().appContext.config.globalProperties.$bus;\r\n\r\nlet setTimeoutID = [];\r\n\r\nconst clearID = () => {\r\n  const idLength = setTimeoutID.length;\r\n  for (let i = 0; i < idLength; i++) {\r\n    clearTimeout(setTimeoutID[i]);\r\n  }\r\n  setTimeoutID = [];\r\n}\r\n\r\nconst setMarkLineData = i => {\r\n  option.value.series[0].markLine.data[0].xAxis = chartData[i].value[0];\r\n  option.value.series[0].markLine.data[1].yAxis = chartData[i].value[1];\r\n  option.value.series[0].markPoint.data[0] = {coord: chartData[i].value};\r\n}\r\n\r\nconst handleClick = params => {\r\n  clearID();\r\n  const i = params.dataIndex;\r\n  eventBus.$emit('indexChanged', i);\r\n  setMarkLineData(i);\r\n  index = i;\r\n}\r\n\r\neventBus.$on(\"fileRead\", file => {\r\n  clearID();\r\n  option.value.title.text = file.name;\r\n  const fr = new FileReader();\r\n  // 读取GPX文件\r\n  fr.readAsText(file, 'utf-8');\r\n  fr.onload = () => {\r\n    gpx = new GpxProcess(fr.result);\r\n\r\n    index = 0;\r\n    chartData = gpx.getData();\r\n    option.value.series[0].data = chartData;\r\n\r\n    const timeArr = gpx.getTimeArr();\r\n    dataLength = chartData.length;\r\n    timeDelta = new Array(dataLength);\r\n\r\n    for (let i = 0; i < dataLength; i++) {\r\n      timeDelta[i] = timeArr[i + 1] - timeArr[i];\r\n    }\r\n    timeDelta[dataLength - 1] = 0;\r\n\r\n    eventBus.$emit('sendPolyline', gpx.toPolyline());\r\n    eventBus.$emit('statsData', gpx.getStats());\r\n  }\r\n});\r\n\r\neventBus.$on('speedRatioChanged', (sc) => {\r\n  speedRatio = sc;\r\n});\r\n\r\neventBus.$on('play', () => {\r\n  clearID();\r\n  const set = () => {\r\n    if (index++ < dataLength) {\r\n      setMarkLineData(index);//更新图表数据\r\n      eventBus.$emit('indexChanged', index);//更新面板和地图数据\r\n      setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n    } else {\r\n      clearID();\r\n    }\r\n  }\r\n  setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n});\r\n\r\neventBus.$on('playReversed', () => {\r\n  clearID();\r\n  const set = () => {\r\n    if (index--) {\r\n      setMarkLineData(index);//更新图表数据\r\n      eventBus.$emit('indexChanged', index);//更新面板和地图数据\r\n      setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n    } else {\r\n      clearID();\r\n    }\r\n  }\r\n  setTimeoutID.push(setTimeout(set, timeDelta[index] / speedRatio));\r\n});\r\n\r\neventBus.$on('pause', clearID);\r\n\r\neventBus.$on('backToStart', () => {\r\n  index = 0;\r\n  setMarkLineData(0);\r\n});\r\n\r\neventBus.$on('unitOfSpeedChanged', key => {\r\n  if (key === 0) {\r\n    chartData = gpx.getData();\r\n  } else if (key === 1) {\r\n    chartData = gpx.getDataAsKmPreHour();\r\n  } else if (key === 2) {\r\n    chartData = gpx.getDataAsMinutePerKm();\r\n  } else {\r\n    console.log(key);\r\n  }\r\n  option.value.series[0].markLine.data[1].label.formatter = speedFormatter[key].markLineY;\r\n  option.value.tooltip.formatter = speedFormatter[key].tooltip;\r\n  option.value.series[0].data = chartData;\r\n  setMarkLineData(index);\r\n});\r\n\r\neventBus.$on('sliderValueChanged', i => {\r\n  clearID();\r\n  setMarkLineData(i);\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import script from \"./viewChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./viewChart.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=62143c72&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import mitt from \"mitt\";\r\n\r\nconst emitter = mitt()\r\n\r\nconst bus = {}\r\nbus.$on = emitter.on\r\nbus.$off = emitter.off\r\nbus.$emit = emitter.emit\r\n\r\nexport default bus\r\n","import { createApp } from 'vue'\nimport App from './App'\nimport bus from './components/bus'\n\nconst app = createApp(App);\n\napp.config.globalProperties.$bus = bus;\n\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgpxbox\"] = self[\"webpackChunkgpxbox\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3106); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","gpxPolyline","gpxLineDecorator","animP","polyline","addMap","L","center","zoom","attributionControl","addScale","maxWidth","metric","imperial","addTo","addTile","tileUrl","minZoom","maxZoom","eventBus","getCurrentInstance","appContext","config","globalProperties","$bus","$on","inputPolyline","setLatLngs","setPaths","getLatLngs","fitBounds","getBounds","undefined","weight","color","startPoint","index","slice","onMounted","patterns","repeat","symbol","pixelSize","headAngle","polygon","pathOptions","stroke","__exports__","formatSecond","time","h","parseInt","minute","second","Math","ceil","hours","formatDistance","dist","toFixed","renderIcon","icon","NIcon","default","_meanSpeed","cumulDist","timeArr","startTime","fileNotRead","ref","speedRatio","sliderValue","movedTime","movedDist","totalDistance","totalTime","meanSpeed","numPoints","checkMark","Checkmark","message","useMessage","unitOfSpeedIndex","speedUnitOptions","label","key","setMovedData","value","sliderValueChanged","tempIndex","$emit","handleSpeedUnitChanged","warning","i","handleSpeedRatioChanged","error","success","clickPlayButton","clickPauseButton","clickPlayReversedButton","clickBackToStartButton","beforeUpload","file","stats","GpxProcess","fileText","gpx","GpxParser","parse","data","tracks","distance","cumul","points","item","dataLength","length","diffDist","diffTime","diffDistArr","Array","diffTimeArr","speedArr","this","_timeArr","_data","_dataAsKmPreHour","_dataAsMinutePerKm","_polyline","_stats","prototype","getData","chartDataArr","getDataAsKmPreHour","getDataAsMinutePerKm","fill","total_time","total_dist","total","avgPace","currPace","toPolyline","currPoint","lat","lon","getTimeArr","getStats","_totalTime","speed","speedAsKmPreHour","speedAsMinutePerKm","use","GridComponent","MarkPointComponent","MarkLineComponent","ToolboxComponent","DataZoomComponent","TitleComponent","TooltipComponent","LineChart","CanvasRenderer","UniversalTransition","chartData","timeDelta","speedFormatter","markLineY","tooltip","params","min","trunc","sec","option","title","text","left","trigger","formatter","axisPointer","type","animation","snap","xAxis","splitLine","show","boundaryGap","yAxis","scale","splitNumber","toolbox","feature","saveAsImage","dataZoom","xAxisIndex","filterMode","yAxisIndex","series","smooth","showSymbol","markLine","position","backgroundColor","borderRadius","padding","input","Date","coord","toLocaleString","markPoint","symbolSize","itemStyle","chart","setTimeoutID","clearID","idLength","clearTimeout","setMarkLineData","handleClick","dataIndex","name","fr","FileReader","readAsText","onload","result","sc","set","push","setTimeout","console","log","emitter","mitt","bus","on","$off","off","emit","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}